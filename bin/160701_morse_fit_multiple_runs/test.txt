#!/bin/bash

D_OUTPUT=($(grep D_e Ni_morse_010716_9.tmp | awk '{print $2}'))
A_OUTPUT=($(grep a Ni_morse_010716_9.tmp | awk '{print $2}'))
R_OUTPUT=($(grep r_e Ni_morse_010716_9.tmp | awk '{print $2}'))

INDEX=1
MAX=${#D_OUTPUT[@]}
##echo "max: $MAX"
outputfile=output_010716_9.txt

while [ $INDEX -lt $MAX ]; do
    
    echo -e "${D_OUTPUT[$INDEX]}\t${A_OUTPUT[$INDEX]}\t${R_OUTPUT[$INDEX]}\t$((MAX+2-INDEX))\r"       >>$outputfile
    echo -e "${D_OUTPUT[$INDEX+1]}\t${A_OUTPUT[$INDEX+1]}\t${R_OUTPUT[$INDEX+1]}\t$((MAX+1-INDEX))\r" >>$outputfile
    echo -e "${D_OUTPUT[$INDEX+2]}\t${A_OUTPUT[$INDEX+2]}\t${R_OUTPUT[$INDEX+2]}\t$((MAX-INDEX))\r" >>$outputfile

    let INDEX=INDEX+3
done
